import os
import random

# Папка для заметок
output_dir = "my_notes"
if not os.path.exists(output_dir):
    os.makedirs(output_dir)

# База знаний: Словарь с реальными фактами
knowledge_base = {
    "linux": [
        "Команда 'ls' используется для просмотра содержимого каталога.",
        "Чтобы сменить права доступа к файлу, используйте команду 'chmod' (например, chmod +x).",
        "Команда 'grep' позволяет искать текст внутри файлов по шаблону.",
        "Суперпользователь в Linux называется 'root'. Используйте 'sudo' для выполнения команд от его имени.",
        "Файл '/etc/passwd' содержит список пользователей системы."
    ],
    "python": [
        "В Python отступы (индетация) обязательны и определяют блоки кода.",
        "Для создания виртуального окружения используйте команду 'python -m venv venv'.",
        "Библиотека 'pandas' используется для анализа данных и работы с таблицами.",
        "Ключевое слово 'def' используется для объявления функций.",
        "Списки в Python создаются через квадратные скобки [], а словари через фигурные {}."
    ],
    "space": [
        "Марс называют Красной планетой из-за оксида железа на поверхности.",
        "Юпитер — самая большая планета в Солнечной системе, газовый гигант.",
        "Скорость света составляет приблизительно 300 000 километров в секунду.",
        "Черные дыры обладают настолько сильной гравитацией, что их не может покинуть даже свет.",
        "Первый человек в космосе — Юрий Гагарин (1961 год)."
    ],
    "security": [
        "SQL-инъекция — это уязвимость, позволяющая выполнить произвольный SQL-код в базе данных.",
        "XSS (Cross-Site Scripting) позволяет внедрять вредоносные скрипты на веб-страницы.",
        "Фишинг — это вид мошенничества для получения конфиденциальных данных (паролей, карт).",
        "Принцип наименьших привилегий требует давать пользователю только те права, которые необходимы.",
        "VPN шифрует ваш интернет-трафик и скрывает реальный IP-адрес."
    ]
}

print(f"Генерация умных заметок в папку {output_dir}...")

file_count = 0

# 1. Генерируем 20 "умных" файлов с фактами
for topic, facts in knowledge_base.items():
    for i, fact in enumerate(facts):
        filename = os.path.join(output_dir, f"{topic}_fact_{i+1}.md")
        content = f"""# Заметка по теме: {topic.upper()}
Дата создания: 2025-10-{random.randint(10,30)}
Важность: Высокая

## Основная информация
В этой заметке сохранен важный факт для обучения модели.

**ФАКТ:** {fact}

## Дополнительно
Эта информация проверена и должна использоваться для ответов на вопросы по теме {topic}.
Теги: #{topic}, #knowledge, #rag
"""
        with open(filename, "w", encoding="utf-8") as f:
            f.write(content)
        file_count += 1

# 2. Генерируем 80 файлов "шума" (обычные дневниковые записи, чтобы усложнить поиск)
actions = ["ходил в магазин", "спал", "гулял", "ел пиццу", "смотрел кино", "писал код", "играл в игры"]
thoughts = ["было скучно", "отличный день", "нужно отдохнуть", "завтра рано вставать", "на улице дождь"]

for i in range(80):
    filename = os.path.join(output_dir, f"daily_log_{i+1}.md")
    content = f"""# Личный дневник, запись №{i+1}
Дата: 2025-01-{random.randint(1,30)}

Сегодня я {random.choice(actions)}. {random.choice(thoughts)}.
Ничего важного не произошло. Просто заметка, чтобы забить место на диске.

Список дел:
1. Купить хлеб
2. Полить цветы
"""
    with open(filename, "w", encoding="utf-8") as f:
        f.write(content)
    file_count += 1

print(f"Готово! Создано {file_count} файлов (20 полезных, 80 мусорных).")
